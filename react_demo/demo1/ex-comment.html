<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <link rel="stylesheet" href="">
    <!--react.js-->
    <script src="js/react.js"></script>
    <!--解析JSX-->
    <script src="js/JSXTransformer.js"></script>
</head>
<body>
    <!--JSX的声明需要是type="text/jsx"-->
    <script type="text/jsx">
    var Content = React.createClass({
        getInitialState: function () {
            return {
                inputText: ""
            };
        },
        handleChange: function (event) {
            this.setState({inputText: event.target.value});
        },
        handleSubmit: function (event) {
            console.log("reply to: "+ this.props.selectName+"\n"+this.state.inputText);  
        },
        render: function(){
            return <div>
                <textarea onChange={this.handleChange} placeholder="please enter something"></textarea>
                <button onClick={this.handleSubmit}>submit</button>
            </div>;
        },
    });

    var Comment = React.createClass({
        getInitialState: function(){
            return {
                name: ["Tim", "Hank", "John"],
                selectName: ''
            };
        },
        handleSelect: function(event){
            this.setState({selectName: event.target.value});
        },
        render: function(){
            var options = [];
            for (var i = 0; i < this.state.name.length; i++) {
                options.push(<option value={i}>{this.state.name[i]}</option>);
            };
            return <div>
                <select onChange={this.handleSelect}>
                    {options}
                </select>
                <Content selectName={this.state.selectName}></Content>
            </div>;
        },
    });
    React.render(<Comment></Comment>, document.body);
    </script>
</body>
</html>